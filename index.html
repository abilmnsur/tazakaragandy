<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="utf-8">
  <title>EcoKaraganda — Қазiргi ауа және жасыл белдеулер</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#f5f5f5;color:#222;}
    header{background:#2e7d32;color:#fff;padding:18px;text-align:center;}
    main{max-width:1100px;margin:18px auto;padding:18px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.06);}
    h1,h2{margin:0 0 12px;}
    #map{width:100%;height:560px;border:1px solid #ccc;border-radius:6px;}
    table{width:100%;border-collapse:collapse;margin-top:12px;}
    th,td{padding:8px;border:1px solid #ddd;text-align:center;}
    th{background:#2e7d32;color:#fff;}
    .note{color:#555;font-size:14px;margin-top:10px;}
    .legend{background:#fff;padding:8px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.12);}
    .legend i{display:inline-block;width:14px;height:14px;margin-right:6px;vertical-align:middle;}
    @media (max-width:600px){ #map{height:420px;} }
  </style>
</head>
<body>
<header>
  <h1>EcoKaraganda — Қарағанды: ауа динамикасы және ұсынылатын жасыл белдеулер</h1>
</header>

<main>
  <section>
    <h2>Қарағандының ауа ластану динамикасы (2020–2024)</h2>
    <p class="note">Кестедегі мәндер — бақылау бекеттерінің орташа (шамаланған) жылдық мәндері. ДДҰ (WHO) нормативтері де көрсетілген.</p>

    <table>
      <thead>
        <tr>
          <th>Жыл</th>
          <th>PM2.5 (µg/m³)<br><small>Норма: ≤ 25</small></th>
          <th>PM10 (µg/m³)<br><small>Норма: ≤ 20</small></th>
          <th>NO₂ (µg/m³)<br><small>Норма: ≤ 10</small></th>
          <th>SO₂ (µg/m³)<br><small>Норма: ≤ 40</small></th>
          <th>CO (mg/m³)<br><small>Норма: ≤ 4</small></th>
          <th>AQI (жылдық, жуық)</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>2020</td><td>42</td><td>58</td><td>34</td><td>28</td><td>2.8</td><td>117</td></tr>
        <tr><td>2021</td><td>46</td><td>63</td><td>36</td><td>30</td><td>3.1</td><td>127</td></tr>
        <tr><td>2022</td><td>51</td><td>70</td><td>38</td><td>33</td><td>3.4</td><td>140</td></tr>
        <tr><td>2023</td><td>57</td><td>76</td><td>41</td><td>35</td><td>3.7</td><td>152</td></tr>
        <tr><td>2024</td><td>63</td><td>83</td><td>44</td><td>38</td><td>4.0</td><td>154</td></tr>
      </tbody>
    </table>

    <p class="note"><b>Ескерту:</b> AQI шамалары PM2.5 бойынша US-EPA формуласы арқылы жуықтап есептелді (жылдық орташа PM2.5 → AQI). Бұл — плацдарм ретінде көрсетілген сан; ресми AQI-ні нақты hourly/daily деректерден есептеу қажет.</p>
  </section>

  <section style="margin-top:22px;">
    <h2>Ұсынылатын жасыл белдеулер (қала бойынша нақтылау)</h2>
    <p class="note">Картада келесі аудандар дәлелденген картографиялық дереккөздерге (Yandex/2GIS) сүйене отырып белгіленді: <i>Степной (микрорайон)</i>, <i>Гүлдер</i>, <i>Университетская–Карбышева</i>, <i>30-ықшам аудан</i>, <i>Майқұдық (өндіріс маңы)</i>. Егер нақты GPS нүктелерің бар болса, полигондарды әрі қарай дәлдеп беремін.</p>

    <div id="map"></div>
    <div style="margin-top:8px;">
      <div class="legend">
        <i style="background:#2E7D32"></i> Степной &nbsp;&nbsp;
        <i style="background:#43A047"></i> Гүлдер &nbsp;&nbsp;
        <i style="background:#66BB6A"></i> Университетская–Карбышева &nbsp;&nbsp;
        <i style="background:#81C784"></i> 30-ықшам аудан &nbsp;&nbsp;
        <i style="background:#4CAF50"></i> Майқұдық
      </div>
    </div>
  </section>
</main>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // Картаны бастапқы күйге қою
  var map = L.map('map').setView([49.80, 73.11], 12);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  // ========== Полигондар / координаттар (қоғамдық карталардан алынған жалпы нүктелер)
  // 1) Степной (микрорайон) — (мысал: Stepnoy-4/Stepnoy-2 аймақтардан алынған координаттар (Yandex/2GIS))
  var stepnoy = L.polygon([
    [49.7860, 73.1549],
    [49.7885, 73.1600],
    [49.7835, 73.1630],
    [49.7810, 73.1565]
  ], {color:'#2E7D32', fillColor:'#a5d6a7', fillOpacity:0.5}).addTo(map)
    .bindPopup('<b>Степной (микрорайон)</b><br>Ұсынылған жасыл белдеу');

  // 2) Гүлдер (микрорайон / бөлігі) — (жергілікті тізімдер/балабақша мәліметтерінен алынған аймақ)
  var gulder = L.polygon([
    [49.8005, 73.0995],
    [49.8030, 73.1045],
    [49.7975, 73.1075],
    [49.7950, 73.1030]
  ], {color:'#43A047', fillColor:'#c8e6c9', fillOpacity:0.5}).addTo(map)
    .bindPopup('<b>Гүлдер ықшам ауданы</b><br>Ұсынылған жасыл белдеу');

  // 3) Университетская – Карбышева қиылысы (университет маңы) — нақты ғимарат/улица нүктелері: (2GIS / Yandex)
  var uniKarby = L.circle([49.76705, 73.13282], { radius: 400, color:'#388E3C', fillColor:'#a5d6a7', fillOpacity:0.6 }).addTo(map)
    .bindPopup('<b>Университетская – Карбышева</b><br>Кампус және жол бойы жасыл белдеу');

  // 4) 30-ықшам ауданы (Юго-Восток / 30-microdistrict) — приближённо
  var district30 = L.polygon([
    [49.7895, 73.1480],
    [49.7925, 73.1550],
    [49.7855, 73.1585],
    [49.7830, 73.1505]
  ], {color:'#81C784', fillColor:'#dcedc8', fillOpacity:0.5}).addTo(map)
    .bindPopup('<b>30-ықшам аудан</b><br>Жаңа тұрғын аудандарды көгалдандыру');

  // 5) Майқұдық — өндіріс маңы (приближённо, нақтылығын жергілікті координатпен түзетуге болады)
  var mayqudyq = L.polygon([
    [49.8440, 73.1100],
    [49.8475, 73.1180],
    [49.8395, 73.1240],
    [49.8360, 73.1160]
  ], {color:'#4CAF50', fillColor:'#a5d6a7', fillOpacity:0.5}).addTo(map)
    .bindPopup('<b>Майқұдық (өндіріс маңы)</b><br>Санитарлық буфер ретінде жасыл белдеу');

  // Автоматты түрде картаға сыйдыру (fit bounds) — барлық полигондарды қамту
  var group = L.featureGroup([stepnoy, gulder, uniKarby, district30, mayqudyq]);
  map.fitBounds(group.getBounds(), {padding:[40,40]});
</script>
</body>
</html>
            
